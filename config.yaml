# Clash.Meta
mixed-port: 7890
allow-lan: true
mode: rule
external-controller: :9090
external-ui: yacd

dns:
  enable: true
  nameserver:
    - 114.114.114.114
    - 8.8.8.8

proxy-groups:

  - name: PROXY
    type: url-test
    use:
      - Sub
    url: http://bing.com
    interval: 600

proxy-providers:

#   Sub:
#     type: http
#     url: https://sub.xeton.dev/sub?target=clash&list=true&url=订阅
#     interval: 3600
#     path: ./Sub.yaml
#     health-check:
#       enable: true
#       url: http://bing.com
#       interval: 600

  Sub:
    type: http
    url: https://sub.xeton.dev/sub?target=clash&list=true&url=订阅
    interval: 3600
    path: ./Sub.yaml
    health-check:
      enable: true
      url: http://bing.com
      interval: 600

rule-providers:
  Advertising:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Classical.yaml
    interval: 86400
    path: ./Advertising.yaml

  Proxy:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Proxy/Proxy_Classical.yaml
    interval: 86400
    path: ./Proxy.yaml

  SteamCN:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN.yaml
    interval: 86400
    path: ./SteamCN.yaml

  China:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China_Classical.yaml
    interval: 86400
    path: ./China.yaml


rules:
  - RULE-SET,Advertising,REJECT
  - RULE-SET,Proxy,PROXY
  - RULE-SET,SteamCN,DIRECT
  - RULE-SET,China,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,PROXY
  
