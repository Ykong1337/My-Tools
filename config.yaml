# Clash.Meta
proxy-providers:
  sub:
    type: http
    url: https://sub.xeton.dev/sub?target=clash&list=true&fdn=true&new_name=true&url=订阅
    path: sub.yaml
    interval: 3600
    health-check:
      enable: true
      url: http://www.bing.com
      interval: 600

mixed-port: 7890
allow-lan: true
mode: rule
ipv6: false
external-controller: :9090

dns:
  enable: true
  listen: :53
  ipv6: false
  nameserver:
    - 8.8.8.8
    - 114.114.114.114

proxy-groups:
  - name: PROXY
    type: fallback
    use:
      - sub

rule-providers:
  LocalAreaNetwork:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
    interval: 86400
    path: LocalAreaNetwork.yaml

  BanAD:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    interval: 86400
    path: BanAD.yaml

  ProxyLite:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyLite.list
    interval: 86400
    path: ProxyLite.yaml

  SteamCN:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN.yaml
    interval: 86400
    path: SteamCN.yaml

  ChinaDomain:
    behavior: classical
    type: http
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
    interval: 86400
    path: ChinaDomain.yaml


rules:
  # Rule
  - RULE-SET,LocalAreaNetwork,DIRECT
  - RULE-SET,BanAD,REJECT
  - RULE-SET,ProxyLite,PROXY
  - RULE-SET,SteamCN,DIRECT
  - RULE-SET,ChinaDomain,DIRECT
  # China
  - GEOIP,CN,DIRECT
  # Final
  - MATCH,PROXY
